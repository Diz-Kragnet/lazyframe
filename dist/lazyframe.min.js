!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=function(){function t(t){if(a=Object.assign({},d,arguments.length<=1?void 0:arguments[1]),"undefined"==typeof t.length)e(t);else if(t.length>1)for(var n=0;n<t.length;n++)e(t[n]);else e(t[0]);a.lazyload&&r()}function e(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:n(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?s(e):i(e,!!e.settings.thumbnail)}}function n(t){var e=Array.prototype.slice.apply(t.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),n=Object.assign({},a,e,{y:t.offsetTop});if(n.vendor){var i=n.src.match(c.regex[n.vendor]);n.id=c.condition[n.vendor](i)}return n}function i(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?o(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=c.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=c.response[i.settings.vendor].thumbnail(n)),s(i,!0)}}):s(t,!0)}function o(t,e){var n=c.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function r(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,o=l.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),o--,i(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};l.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){d=u<window.scrollY,u=window.scrollY,d&&l.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===o&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,d=!1;window.addEventListener("scroll",s,!1)}function s(t,e){if(t.iframe=u(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),l.push(t)),t.settings.initialized||l.push(t)}function u(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=c.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,l=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,width:void 0,height:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},c={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"http://crossorigin.me/https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return t},e=t();return e});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=function(){function t(t){if(a=Object.assign({},d,arguments.length<=1?void 0:arguments[1]),"undefined"==typeof t.length)e(t);else if(t.length>1)for(var n=0;n<t.length;n++)e(t[n]);else e(t[0]);a.lazyload&&r()}function e(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:n(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?s(e):i(e,!!e.settings.thumbnail)}}function n(t){var e=Array.prototype.slice.apply(t.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),n=Object.assign({},a,e,{y:t.offsetTop});if(n.vendor){var i=n.src.match(c.regex[n.vendor]);n.id=c.condition[n.vendor](i)}return n}function i(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?o(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=c.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=c.response[i.settings.vendor].thumbnail(n)),s(i,!0)}}):s(t,!0)}function o(t,e){var n=c.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function r(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,o=l.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),o--,i(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};l.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){d=u<window.scrollY,u=window.scrollY,d&&l.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===o&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,d=!1;window.addEventListener("scroll",s,!1)}function s(t,e){if(t.iframe=u(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),l.push(t)),t.settings.initialized||l.push(t)}function u(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=c.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,l=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,width:void 0,height:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},c={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"http://crossorigin.me/https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return t},e=t();return e});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(l=t({},c,arguments.length<=1?void 0:arguments[1]),"undefined"==typeof e.length)n(e);else if(e.length>1)for(var i=0;i<e.length;i++)n(e[i]);else n(e[0]);l.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),l.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},l,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=d.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};d.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){a=u<window.scrollY,u=window.scrollY,a&&d.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},l.debounce),u=0,a=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=a(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}l.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),d.push(t)),t.settings.initialized||d.push(t)}function a(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var l=void 0,d=[],c={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,width:void 0,height:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"http://crossorigin.me/https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(l=t({},c,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);l.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),l.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},l,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=d.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};d.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){a=u<window.scrollY,u=window.scrollY,a&&d.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},l.debounce),u=0,a=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=a(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}l.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),d.push(t)),t.settings.initialized||d.push(t)}function a(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var l=void 0,d=[],c={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,width:void 0,height:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"http://crossorigin.me/https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(l=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);l.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),l.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},l,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){a=u<window.scrollY,u=window.scrollY,a&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},l.debounce),u=0,a=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=a(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}l.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function a(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var l=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(a=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);a.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},a,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){l=u<window.scrollY,u=window.scrollY,l&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,l=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=l(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title&&0===t.el.children.length){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function l(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(a=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);a.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},a,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){l=u<window.scrollY,u=window.scrollY,l&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,l=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=l(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title&&0===t.el.children.length){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function l(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(a=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);a.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},a,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){l=u<window.scrollY,u=window.scrollY,l&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,l=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=l(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title&&0===t.el.children.length){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function l(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(a=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);a.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},a,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){l=u<window.scrollY,u=window.scrollY,l&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,l=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=l(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title&&0===t.el.children.length){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function l(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(a=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);a.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},a,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){l=u<window.scrollY,u=window.scrollY,l&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,l=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=l(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title&&0===t.el.children.length){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function l(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lazyframe=e()}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e=function(){function e(e){if(a=t({},d,arguments.length<=1?void 0:arguments[1]),"string"==typeof e)for(var i=document.querySelectorAll(e),o=0;o<i.length;o++)n(i[o]);else if("undefined"==typeof e.length)n(e);else if(e.length>1)for(var r=0;r<e.length;r++)n(e[r]);else n(e[0]);a.lazyload&&s()}function n(t){if(t instanceof HTMLElement!=!1){var e={el:t,settings:i(t)};e.el.addEventListener("click",function(){return e.el.appendChild(e.iframe)}),a.lazyload?u(e):o(e,!!e.settings.thumbnail)}}function i(e){var n=Array.prototype.slice.apply(e.attributes).filter(function(t){return""!==t.value}).reduce(function(t,e){var n=0===e.name.indexOf("data-")?e.name.split("data-")[1]:e.name;return t[n]=e.value,t},{}),i=t({},a,n,{y:e.offsetTop});if(i.vendor){var o=i.src.match(f.regex[i.vendor]);i.id=f.condition[i.vendor](o)}return i}function o(t){var e=(!t.settings.title||!t.settings.thumbnail)&&t.settings.apikey&&t.settings.vendor;e?r(t,function(t,e){if(!t){var n=e[0],i=e[1];i.settings.title||(i.settings.title=f.response[i.settings.vendor].title(n)),i.settings.thumbnail||(i.settings.thumbnail=f.response[i.settings.vendor].thumbnail(n)),u(i,!0)}}):u(t,!0)}function r(t,e){var n=f.endpoints[t.settings.vendor](t.settings),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);e(null,[n,t])}else e(!0)},i.onerror=function(){e(!0)},i.send()}function s(){function t(t,e,n){var i=void 0;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},u=n&&!i;clearTimeout(i),i=setTimeout(s,e),u&&t.apply(o,r)}}var e=this,n=window.innerHeight,i=c.length,r=function(t,n){t.settings.initialized=!0,t.el.classList.add("lazyframe--loaded"),i--,o(t),t.settings.initinview&&t.el.click(),t.settings.onLoad.call(e,t)};c.filter(function(t){return t.settings.y<n}).forEach(r);var s=t(function(){l=u<window.scrollY,u=window.scrollY,l&&c.filter(function(t){return t.settings.y<n+u&&t.settings.initialized===!1}).forEach(r),0===i&&window.removeEventListener("scroll",s,!1)},a.debounce),u=0,l=!1;window.addEventListener("scroll",s,!1)}function u(t,e){if(t.iframe=l(t.settings),t.settings.thumbnail&&e&&(t.el.style.backgroundImage="url("+t.settings.thumbnail+")"),t.settings.title&&0===t.el.children.length){var n=document.createDocumentFragment(),i=document.createElement("span");i.className="lazyframe__title",i.innerHTML=t.settings.title,n.appendChild(i),t.el.appendChild(n)}a.lazyload||(t.el.classList.add("lazyframe--loaded"),t.settings.onLoad.call(this,t),c.push(t)),t.settings.initialized||c.push(t)}function l(t){var e=document.createDocumentFragment(),n=document.createElement("iframe");if(t.vendor&&(t.src=f.src[t.vendor](t)),n.setAttribute("src",t.src),n.setAttribute("frameborder",0),n.setAttribute("allowfullscreen",""),"vine"===t.vendor){var i=document.createElement("script");i.setAttribute("src","https://platform.vine.co/static/scripts/embed.js"),e.appendChild(i)}return e.appendChild(n),e}var a=void 0,c=[],d={vendor:void 0,id:void 0,src:void 0,thumbnail:void 0,title:void 0,apikey:void 0,initialized:!1,y:void 0,debounce:250,lazyload:!0,initinview:!1,onLoad:function(t){}},f={regex:{youtube:/(?:youtube\.com\/\S*(?:(?:\/e(?:mbed))?\/|watch\?(?:\S*?&?v\=))|youtu\.be\/)([a-zA-Z0-9_-]{6,11})/,vimeo:/vimeo\.com\/(?:video\/)?([0-9]*)(?:\?|)/,vine:/vine.co\/v\/(.*)/},condition:{youtube:function(t){return!(!t||11!=t[1].length)&&t[1]},vimeo:function(t){return!(!t||9!==t[1].length)&&t[1]},vine:function(t){return!(!t||11!==t[1].length)&&t[1]}},src:{youtube:function(t){return"https://www.youtube.com/embed/"+t.id+"/?autoplay=1"},vimeo:function(t){return"https://player.vimeo.com/video/"+t.id+"/?autoplay=1"},vine:function(t){return"https://vine.co/v/"+t.id+"/embed/simple"}},endpoints:{youtube:function(t){return"https://www.googleapis.com/youtube/v3/videos?id="+t.id+"&key="+t.apikey+"&fields=items(snippet(title,thumbnails))&part=snippet"},vimeo:function(t){return"https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+t.id},vine:function(t){return"https://vine.co/oembed.json?url=https%3A%2F%2Fvine.co%2Fv%2F"+t.id}},response:{youtube:{title:function(t){return t.items[0].snippet.title},thumbnail:function(t){var e=t.items[0].snippet.thumbnails,n=e.maxres?e.maxres.url:e.standard.url;return n}},vimeo:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}},vine:{title:function(t){return t.title},thumbnail:function(t){return t.thumbnail_url}}}};return e},n=e();return n});
